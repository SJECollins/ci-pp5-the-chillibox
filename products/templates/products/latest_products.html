{% extends 'base.html' %}
{% load static %}

{% block title %}
Shop
{% endblock %}

{% block content %}
<section class="container-md">
    {% if user.is_superuser %}
        <a class="chilli-btn" href="{% url 'products:add_product' %}">Add New Product</a>
        <a class="chilli-link" href="{% url 'products:product_dashboard' %}">Go to Product Dashboard</a>
    {% endif %}
    <div class="row py-4">
        <div class="d-flex align-items-center">
            <h2 class="headings">Latest Sauces</h2>
            <a class="chilli-link big ms-5" href="{% url 'products:category' slug='sauces' %}">View all sauces <i class="fa-solid fa-angles-right"></i></a>
        </div>
        {% for sauce in saucecat %}
        <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-5 text-center">
            <div class="chilli-card mx-auto text-center">
                <h3 class="headings headings-sm">{{ sauce.name }}</h3>
                {% if sauce.thumbnail %}
                <img class="pics" src="{{ sauce.thumbnail.url }}">
                {% else %}
                <p>No thumbnail</p>
                {% endif %}
                <p class="excerpt">{{ sauce.excerpt }}</p>
                <p>{% if sauce.in_stock %}In Stock{% else %}Out of Stock{% endif %}</p>
                <a class="chilli-link" href="{% url 'products:product' sauce.slug %}">View {{ sauce.name }}</a>
            </div>
            {% if user.is_superuser %}
                <div class="my-3">
                    <a class="chilli-btn" href="{% url 'products:edit_product' sauce.pk %}">Edit Product</a>
                    <a class="chilli-btn chilli-dngr" href="{% url 'products:delete_product' sauce.pk %}">Delete Product</a>
                </div>
            {% endif %}
        </div>
        {% empty %}
            <p>No sauces</p>
        {% endfor %}
    </div>
    <hr class="mt-5">
    <div class="row py-4">
        <div class="d-flex align-items-center">
            <h2 class="headings">Latest Sauceboxes</h2>
            <a class="chilli-link big ms-5" href="{% url 'products:category' slug='saucebox' %}">View all boxes <i class="fa-solid fa-angles-right"></i></a>
        </div>
        {% for saucebox in sauceboxcat %}
        <div class="col-md-3 text-center">
            <div class="chilli-card mx-auto text-center">
                <h3 class="headings headings-sm">{{ saucebox.name }}</h3>
                {% if saucebox.thumbnail %}
                <img class="pics" src="{{ saucebox.thumbnail.url }}">
                {% else %}
                <p>No thumbnail</p>
                {% endif %}
                <p class="excerpt">{{ saucebox.excerpt }}</p>
                <p>{% if saucebox.in_stock %}In Stock{% else %}Out of Stock{% endif %}</p>
                <a class="chilli-link" href="{% url 'products:product' saucebox.slug %}">View {{ saucebox.name }}</a>
            </div>
            {% if user.is_superuser %}
                <div class="my-3">
                    <a class="chilli-btn" href="{% url 'products:edit_product' saucebox.pk %}">Edit Product</a>
                    <a class="chilli-btn chilli-dngr" href="{% url 'products:delete_product' saucebox.pk %}">Delete Product</a>
                </div>
            {% endif %}
        </div>
        {% empty %}
            <p>No sauceboxes</p>
        {% endfor %}
    </div>
    <hr class="mt-5">
    <div class="row py-4">
        <div class="d-flex align-items-center">
            <h2 class="headings">Latest Seeds</h2>
            <a class="chilli-link big ms-5" href="{% url 'products:category' slug='seeds' %}">View all seeds <i class="fa-solid fa-angles-right"></i></a>
        </div>
        {% for seed in seedcat %}
        <div class="col-md-3 text-center">
            <div class="chilli-card mx-auto text-center">
                <h3 class="headings headings-sm">{{ seed.name }}</h3>
                {% if seed.thumbnail %}
                <img class="pics" src="{{ seed.thumbnail.url }}">
                {% else %}
                <p>No thumbnail</p>
                {% endif %}
                <p class="excerpt">{{ seed.excerpt }}</p>
                <p>{% if seed.in_stock %}In Stock{% else %}Out of Stock{% endif %}</p>
                <a class="chilli-link" href="{% url 'products:product' seed.slug %}">View {{ seed.name }}</a>
            </div> 
            {% if user.is_superuser %}
                <div class="my-3">
                    <a class="chilli-btn" href="{% url 'products:edit_product' seed.pk %}">Edit Product</a>
                    <a class="chilli-btn chilli-dngr" href="{% url 'products:delete_product' seed.pk %}">Delete Product</a>
                </div>
            {% endif %}
        </div>
        {% empty %}
            <p>No seeds</p>
        {% endfor %}
    </div> 
    <hr class="mt-5">
    <div class="row py-4">
        <div class="d-flex align-items-center">
            <h2 class="headings">Latest Seedboxes</h2>
            <a class="chilli-link big ms-5" href="{% url 'products:category' slug='seedbox' %}">View all boxes <i class="fa-solid fa-angles-right"></i></a>
        </div>
        {% for seedbox in seedboxcat %}
        <div class="col-md-3 text-center">
            <div class="chilli-card mx-auto text-center">
                <h3 class="headings headings-sm">{{ seedbox.name }}</h3>
                {% if seedbox.thumbnail %}
                <img class="pics" src="{{ seedbox.thumbnail.url }}">
                {% else %}
                <p>No thumbnail</p>
                {% endif %}
                <p class="excerpt">{{ seedbox.excerpt }}</p>
                <p>{% if seedbox.in_stock %}In Stock{% else %}Out of Stock{% endif %}</p>
                <a class="chilli-link" href="{% url 'products:product' seedbox.slug %}">View {{ seedbox.name }}</a>
            </div>
            {% if user.is_superuser %}
                <div class="my-3">
                    <a class="chilli-btn" href="{% url 'products:edit_product' seedbox.pk %}">Edit Product</a>
                    <a class="chilli-btn chilli-dngr" href="{% url 'products:delete_product' seedbox.pk %}">Delete Product</a>
                </div>
            {% endif %}
        </div>
        {% empty %}
            <p>No seedboxes</p>
        {% endfor %}
    </div>
</section>

{% endblock %}