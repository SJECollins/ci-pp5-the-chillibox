{% load static %}

<header>
    <nav id="navbar" class="navbar navbar-expand-lg">
        <div class="container-sm d-flex justify-content-between">
            <!-- Navbar logo-->
            <a class="navbar-brand" href="{% url 'home:index' %}" aria-label="Go to home page"><img width="90"
                    height="64" src="{% static 'images/chilli-logo-white.png' %}" alt="The Chillibox Logo"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <i class="fa-solid fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <!-- Search -->
                    <li class="nav-item m-2 px-2">
                        <form action="{% url 'products:search_results' %}" method="GET">
                            <input name="q" type="text" placeholder="Search...">
                            <button type="submit" class="chilli-link rounded" aria-label="Search">
                                <i class="fa-solid fa-magnifying-glass"></i>
                            </button>
                        </form>
                    </li>
                    <!-- Shop drop down-->
                    <li class="nav-item dropdown">
                        <a class="navbar-links dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Shop
                        </a>
                        <ul class="dropdown-menu drop-menu nav-drop-bg">
                            <li>
                                <a class="navbar-links" href="{% url 'products:latest' %}">Latest</a>
                            </li>
                            <li>
                                <a class="navbar-links" href="{% url 'products:category' slug='sauces' %}">Sauces</a>
                            </li>
                            <li>
                                <a class="navbar-links" href="{% url 'products:category' slug='seeds' %}">Seeds</a>
                            </li>
                            <li>
                                <a class="navbar-links"
                                    href="{% url 'products:category' slug='saucebox' %}">SauceBoxes</a>
                            </li>
                            <li>
                                <a class="navbar-links"
                                    href="{% url 'products:category' slug='seedbox' %}">SeedBoxes</a>
                            </li>
                        </ul>
                    </li>
                    <!-- Recipe page link -->
                    <li class="nav-item">
                        <a class="navbar-links" href="{% url 'recipes:recipes_list' %}">Recipes</a>
                    </li>
                    <!-- Help dropdown -->
                    <li class="nav-item dropdown">
                        <a class="navbar-links dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Help
                        </a>
                        <ul class="dropdown-menu drop-menu nav-drop-bg">
                            <li>
                                <a class="navbar-links navbar-drop-link" href="{% url 'home:faq' %}">FAQ</a>
                            </li>
                            <li>
                                <a class="navbar-links navbar-drop-link" href="{% url 'home:privacy' %}">Privacy
                                    Policy</a>
                            </li>
                            <li>
                                <a class="navbar-links navbar-drop-link" href="{% url 'home:contact' %}">Contact Us</a>
                            </li>
                        </ul>
                    </li>
                    <!-- Account drop down -->
                    <li class="nav-item dropdown">
                        <a class="navbar-links dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Account
                        </a>
                        <ul class="dropdown-menu drop-menu nav-drop-bg">
                            {% if user.is_authenticated %}
                            <!-- Staff link to management dashboard, users link to home -->
                            {% if user.is_staff %}
                            <li>
                                <a class="navbar-links navbar-drop-link"
                                    href="{% url 'management:dashboard' %}">Management</a>
                            </li>
                            {% endif %}
                            <li>
                                <a class="navbar-links navbar-drop-link" href="{% url 'profiles:profile' %}">My
                                    Profile</a>
                            </li>
                            <li>
                                <a class="navbar-links navbar-drop-link" href="{% url 'account_logout' %}">Logout</a>
                            </li>
                            {% else %}
                            <li>
                                <a class="navbar-links navbar-drop-link" href="{% url 'account_login' %}">Login</a>
                            </li>
                            <li>
                                <a class="navbar-links navbar-drop-link" href="{% url 'account_signup' %}">Register</a>
                            </li>
                            {% endif %}
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- Cart -->
            <a class="navbar-links pb-0 mb-0" data-bs-toggle="offcanvas" href="#theCart" role="button" aria-label="Cart">
                <i class="fa-solid fa-cart-shopping big">
                {% if product_count > 0 %}<span class="small">{{ product_count }}</span>{% endif %}
                </i>
            </a>
        </div>
    </nav>
</header>